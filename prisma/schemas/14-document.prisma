// Modèles documents

model Document {
  id                String              @id @default(cuid())
  userId            String
  type              DocumentType
  filename          String
  originalName      String
  mimeType          String
  validationStatus  ValidationStatus    @default(PENDING)
  size              Int                 // en bytes
  url               String
  validatedAt       DateTime?
  validatedBy       String?             // ID de l'admin qui a validé
  rejectionReason   String?
  expirationDate    DateTime?           // Pour permis, assurances, etc.
  createdAt         DateTime            @default(now())
  updatedAt         DateTime            @updatedAt

  // Relations
  user              User                @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([userId])
  @@index([type])
  @@index([validationStatus])
}
