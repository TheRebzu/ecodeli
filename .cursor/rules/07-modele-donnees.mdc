---
description: 
globs: 
alwaysApply: false
---
# Modèle de Données (Prisma)

## Schéma Prisma
- [prisma/schema.prisma](mdc:prisma/schema.prisma) - Définition du modèle de données
- [prisma/migrations](mdc:prisma/migrations) - Historique des migrations

## Entités Principales
- **User** : Utilisateur de base avec rôle (client, deliverer, merchant, provider, admin)
- **Delivery** : Livraison avec statut, origine, destination
- **Service** : Service proposé par un prestataire
- **Warehouse** : Entrepôt pour stockage
- **Announcement** : Annonce publique ou par rôle
- **Payment** : Paiement et transactions
- **Invoice** : Facture
- **Document** : Document d'identité ou justificatif

## Relations entre Entités
- Relation User-Delivery (un client peut avoir plusieurs livraisons)
- Relation User-Service (un prestataire peut proposer plusieurs services)
- Relation Delivery-Warehouse (une livraison peut passer par un entrepôt)

## Accès à la Base de Données
- [src/server/db.ts](mdc:src/server/db.ts) - Client Prisma singleton
- Utilisation dans les services backend uniquement

