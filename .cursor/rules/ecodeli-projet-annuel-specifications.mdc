---
description: 
globs: 
alwaysApply: true
---
# EcoDeli - Sp√©cifications Projet Annuel 2024-2025 ESGI

## üìã Contexte Officiel du Projet

**EcoDeli** est une soci√©t√© de crowdshipping cr√©√©e √† Paris en 2018, bas√©e au 110 rue de Flandre (19√®me).
L'entreprise met en relation exp√©diteurs et livreurs occasionnels pour r√©duire l'impact environnemental et favoriser le pouvoir d'achat.

### Croissance et Infrastructure
- **Croissance rapide** depuis 2018
- **6 entrep√¥ts** : Paris (bureau + entrep√¥t), Marseille, Lyon, Lille, Montpellier, Rennes
- **Modernisation SI** compl√®te demand√©e
- **Appel d'offre** lanc√© le 20 f√©vrier 2025

---

## üéØ Structure Obligatoire des 3 Missions

### Mission 1 : Gestion de la Soci√©t√© ‚≠ê **PRIORIT√â MAXIMALE**
**Application Web compl√®te** avec 5 espaces distincts obligatoires

### Mission 2 : Services Suppl√©mentaires
**Applications compl√©mentaires** Java + Android + NFC

### Mission 3 : Infrastructure Syst√®me, R√©seau et S√©curit√©
**Architecture r√©seau EDN** compl√®te avec 6 sites

---

## üè¢ Mission 1 : Sp√©cifications D√©taill√©es

### 1.1 Espace Livreurs - Fonctionnalit√©s Obligatoires

#### Processus de Recrutement
- **Demande d'inscription** sur le site
- **Validation obligatoire** par EcoDeli via pi√®ces justificatives
- **Documents requis** : identit√©, permis, assurance
- **Statut** : PENDING ‚Üí APPROVED ‚Üí ACTIVE

#### Gestion des Trajets et Matching
- **D√©claration trajets √† l'avance** par le livreur
- **Matching automatique** avec annonces clients
- **Notifications push** via OneSignal quand match trouv√©
- **Acceptation/refus** des propositions

#### Gestion des Livraisons
- **Types de livraisons** :
  - Prise en charge int√©grale (point A ‚Üí point B)
  - Prise en charge partielle (avec relais entrep√¥ts)
  - Livraison finale (depuis entrep√¥t ‚Üí destinataire)
- **Code de validation 6 chiffres** OBLIGATOIRE
- **Suivi temps r√©el** des livraisons

#### Syst√®me de Paiement
- **Portefeuille EcoDeli** int√©gr√©
- **Virement √† la demande** vers compte bancaire
- **Historique** des paiements d√©taill√©

### 1.2 Espace Clients - Fonctionnalit√©s Obligatoires

#### Tutoriel Premi√®re Connexion **CRITIQUE**
- **Overlay bloquant** √† la premi√®re connexion
- **√âtapes obligatoires** :
  1. D√©p√¥t d'annonce
  2. R√©servation de service
  3. Gestion paiement
  4. Suivi livraison
- **Impossible de passer** sans compl√©ter

#### Gestion des Annonces
- **Types d'annonces** support√©es :
  - Transport de colis (Paris ‚Üí Marseille)
  - Transport de personnes
  - Transfert a√©roport
  - Courses avec liste fournie
  - Achats internationaux
  - Services √† domicile

#### Abonnements Clients **OBLIGATOIRES**
```
Free (‚Ç¨0/mois) :
- Assurance : 0‚Ç¨
- R√©duction : 0%
- Envoi prioritaire : +15%

Starter (‚Ç¨9.90/mois) :
- Assurance : jusqu'√† 115‚Ç¨/envoi
- R√©duction : 5%
- Envoi prioritaire : +5%
- R√©duction permanente : 5% petits colis

Premium (‚Ç¨19.99/mois) :
- Assurance : jusqu'√† 3000‚Ç¨/envoi (au-del√† +75‚Ç¨)
- R√©duction : 9%
- Premier envoi offert (si < 150‚Ç¨)
- Envoi prioritaire : 3 offerts/mois, puis +5%
- R√©duction permanente : 5% tous colis
```

#### Box de Stockage Temporaire
- **Acc√®s aux 6 entrep√¥ts** EcoDeli
- **R√©servation en ligne** de box
- **Codes d'acc√®s** g√©n√©r√©s automatiquement
- **Facturation** selon dur√©e d'occupation

### 1.3 Espace Commer√ßants - Fonctionnalit√©s Obligatoires

#### Gestion des Contrats
- **Contrat avec EcoDeli** obligatoire
- **Types** : STANDARD, PREMIUM, CUSTOM
- **Taux de commission** n√©goci√©
- **Signature √©lectronique** du contrat
- **G√©n√©ration PDF** automatique

#### L√¢cher de Chariot **SERVICE PHARE**
- **Configuration** par le commer√ßant :
  - Zones de livraison
  - Cr√©neaux horaires disponibles
  - Tarifs selon distance
- **Processus client** :
  1. Achats en magasin
  2. Demande livraison √† domicile en caisse
  3. Choix adresse + cr√©neau
  4. Paiement livraison
  5. Livraison par livreur EcoDeli

#### Import Bulk d'Annonces
- **Upload CSV/Excel** avec produits
- **Mapping automatique** des champs
- **Validation** avant publication
- **Gestion en lot** des annonces

### 1.4 Espace Prestataires - Fonctionnalit√©s Obligatoires

#### Processus de Validation
- **Candidature** avec certifications/habilitations
- **V√©rification profil** par EcoDeli
- **Validation types de prestations** propos√©es
- **N√©gociation tarifs** avec EcoDeli
- **Statut autoentrepreneur** obligatoire

#### Services √† la Personne
- **Types de services** :
  - M√©nage/nettoyage
  - Jardinage
  - Bricolage/handyman
  - Cours particuliers
  - Soins/beaut√©
  - Garde d'animaux
- **Calendrier disponibilit√©s** obligatoire
- **R√©servation cr√©neaux** par clients

#### Facturation Automatique **CRITIQUE**
- **G√©n√©ration automatique** le 30 de chaque mois √† 23h
- **Synth√®se prestations** du mois √©coul√©
- **Calcul gains** selon tarifs n√©goci√©s
- **G√©n√©ration PDF** professionnel
- **Virement bancaire automatique** simul√©
- **Archive accessible** prestataire + comptabilit√© EcoDeli

### 1.5 Back Office Admin - Fonctionnalit√©s Obligatoires

#### Validation Documents
- **Interface d√©di√©e** validation pi√®ces justificatives
- **Types documents** : identit√©, permis, assurance, certifications
- **Workflow** : PENDING ‚Üí APPROVED/REJECTED
- **Notifications automatiques** aux demandeurs
- **Historique** des validations

#### Gestion Compl√®te Utilisateurs
- **CRUD complet** tous types d'utilisateurs
- **Changement de r√¥les** si n√©cessaire
- **Suspension/r√©activation** comptes
- **Statistiques** par r√¥le et activit√©

#### Monitoring Livraisons
- **Dashboard temps r√©el** toutes livraisons
- **Gestion litiges** entre clients/livreurs
- **Intervention manuelle** si n√©cessaire
- **Historique complet** des incidents

#### Configuration 6 Entrep√¥ts
- **Gestion capacity** par entrep√¥t
- **Configuration box** de stockage
- **Tarification** selon taille et dur√©e
- **Maintenance** et disponibilit√©

---

## üõ†Ô∏è Mission 2 : Sp√©cifications D√©taill√©es

### 2.1 Application Java Autonome **OBLIGATOIRE**

#### R√©cup√©ration de Donn√©es
- **Connexion** √† la base de donn√©es Mission 1
- **Extraction automatique** :
  - Comptes commer√ßants avec factures d√©taill√©es
  - Livraisons compl√®tes (type, contenu, modalit√©s, dates)
  - Prestations d√©taill√©es (type, dur√©e, tarifs, √©valuations)

#### G√©n√©ration de Donn√©es de Test
- **Minimum 30 enregistrements** par cat√©gorie
- **G√©n√©rateur de donn√©es al√©atoires** mais coh√©rentes
- **Respect contraintes** m√©tier (dates, montants, relations)

#### G√©n√©ration PDF Rapport
**Page 1 - Commer√ßants/Clients** :
- 4 diagrammes obligatoires (camemberts, barres, courbes)
- R√©partition par CA, type de client, g√©ographie
- **Top 5 clients les plus fid√®les** avec m√©triques
- √âvolution temporelle du chiffre d'affaires

**Page 2 - Prestations** :
- 4 diagrammes statistiques prestations
- R√©partition par type, fr√©quence, satisfaction
- **Top 5 prestations les plus demand√©es**
- Analyse saisonnalit√© des demandes

#### Bonus Data Mining
- **Algorithmes** de recommandation
- **Clustering** clients par comportement
- **Pr√©diction** demandes futures
- **D√©tection anomalies** dans les donn√©es

### 2.2 Application Android **OBLIGATOIRE**

#### Fonctionnalit√©s Clients
- **Connexion** avec comptes Mission 1
- **Consultation livraisons** en cours
- **Suivi temps r√©el** avec g√©olocalisation
- **Historique** livraisons et prestations
- **Notifications push** natives

#### Validation Livraisons
- **Saisie code 6 chiffres** par livreur
- **Validation c√¥t√© client** de r√©ception
- **Photos** preuve de livraison
- **√âvaluation** du service

#### Interface Mobile Optimis√©e
- **Design responsive** Android
- **Navigation intuitive** par onglets
- **Synchronisation** temps r√©el avec web
- **Mode hors ligne** pour consultation

### 2.3 Syst√®me NFC Livreurs **OBLIGATOIRE**

#### Carte NFC Physique
- **G√©n√©ration automatique** apr√®s validation documents
- **Identifiant unique** par livreur
- **Donn√©es chiffr√©es** sur la carte
- **Dur√©e de validit√©** limit√©e

#### Reconnaissance par Clients
- **Lecture NFC** via smartphone client
- **V√©rification identit√©** livreur
- **Affichage informations** : nom, photo, note moyenne
- **Historique livraisons** du livreur

---

## üèóÔ∏è Mission 3 : Sp√©cifications Infrastructure

### 3.1 Architecture R√©seau EDN (EcoDeli Network)

#### Concept EDN
- **EcoDeli devient son propre FAI**
- **Gestion compl√®te** connexions inter-sites
- **Datacenter propre** pour h√©bergement
- **Contr√¥le total** infrastructure r√©seau

#### Site Principal Paris (110 rue de Flandre)
**√âquipe** : 80 salari√©s + direction
- Sylvain Levy (PDG)
- Pierre Chabrier (DRH) 
- Lucas Hauchard (Directeur Commercial)
- Elsa Blovin (Directrice Marketing)
- Erwan Thibaud (DSI)

**Infrastructure Obligatoire** :
- **Active Directory** Windows Server 2019/2022/2025
- **Baie de stockage** centralis√©e (missions 1 et 2)
- **DMZ** avec serveur mails Postfix Linux
- **5 VLAN obligatoires** :
  - Direction (5 personnes)
  - Marketing (3 personnes √©quipe Lucas)
  - Commercial (5 commerciaux itin√©rants)
  - RH (4 personnes r√©gion parisienne)
  - Informatique (8 personnes √©quipe)
- **2 Firewalls OPNSense** redondants
- **GLPI** pour ticketing et inventaire
- **Zabbix/Nagios** pour supervision compl√®te

### 3.2 Sites Provinciaux

#### Site Marseille
- **2 salari√©s** rattach√©s direction
- **4 personnes** √©quipe DSI locale
- **Serveur Mail backup** (relais si Paris en panne)
- **VPN site-to-site** avec Paris
- **VPN client-to-site** pour utilisateurs distants

#### Site Lyon  
- **2 salari√©s** rattach√©s direction
- **4 personnes** √©quipe DSI locale
- **Serveur DHCP Linux** pour distribution IP
- **Serveur DNS Linux** r√©solution noms
- **2 OPNSense** filtrage r√©seau
- **Backup infrastructure** :
  - Journalier automatique √† 23h
  - Mensuel le 30 de chaque mois
- **Synchronisation** avec baie Paris

#### Site Lille
- **2 salari√©s** rattach√©s direction  
- **4 personnes** √©quipe DSI locale
- **RODC** (Read-Only Domain Controller)
- **Stockage partag√© direction** CHIFFR√â
- **Donn√©es RGPD** centralis√©es et s√©curis√©es
- **2 Firewall OPNSense** redondants
- **VPN utilisateurs distants**

#### Sites Montpellier et Rennes
- **Non configur√©s** dans cette phase
- **Pr√©vus** pour vague 2 de d√©ploiement
- **Architecture** √† pr√©voir √©volutive

### 3.3 Configuration R√©seau EDN

#### Protocoles de Routage
- **RIP v2** entre tous les routeurs EDN
- **M√©triques** optimis√©es pour performance
- **Tables de routage** dynamiques
- **Convergence rapide** en cas de panne

#### VPN Inter-Sites
- **IPSec over GRE** obligatoire
- **Chiffrement fort** AES-256
- **Authentification** par certificats
- **Tunnels redondants** pour haute disponibilit√©

#### Contr√¥le d'Acc√®s
- **ACL pr√©cises** pour flux inter-sites
- **Segmentation** par type de trafic
- **R√®gles firewall** granulaires
- **Logs centralis√©s** pour audit

#### Redondance
- **HSRP ou VRRP** sur routeurs
- **Basculement automatique** < 3 secondes
- **Monitoring** liens et √©quipements
- **Alertes** temps r√©el en cas de panne

---

## üìä Contraintes et Livrables Obligatoires

### Contraintes Techniques
- **GitHub obligatoire** : compte par membre √©quipe
- **Langages vari√©s** : pas que web (Python, C, Java requis)
- **Frameworks autoris√©s** : validation pr√©alable direction
- **Script d√©ploiement** : installation automatis√©e compl√®te
- **Virtualisation** : VMware/ProxMox/Eve-NG/GNS3
- **Budget h√©bergement** : maximum 40‚Ç¨/mois par groupe

### Documentation Obligatoire
- **Rapports r√©unions** : minimum 3 fois/mois
- **Trello** : gestion projet visible
- **Budget d√©taill√©** : devis + main d'≈ìuvre + prestataire
- **Planning GANTT** : t√¢ches et d√©pendances
- **Analyse risques RACI** : responsabilit√©s claires
- **DAT** : Document Architecture Technique complet

### S√©curit√© Obligatoire
- **HTTPS SSL/TLS** sur toutes les interfaces
- **Chiffrement** donn√©es sensibles
- **Authentification forte** pour admin
- **Audit trails** complets
- **Sauvegarde** chiffr√©e et test√©e

### Production
- **Missions 1 et 2** h√©berg√©es sur infrastructure Mission 3
- **D√©ploiement Docker** pour resilience
- **Monitoring** 24/7 avec alertes
- **Proc√©dures** de reprise apr√®s incident
- **Tests charge** et performance

---

## ‚ö†Ô∏è Points Critiques de R√©ussite

### Fonctionnalit√©s Bloquantes
1. **Tutoriel client** overlay premi√®re connexion
2. **Code validation 6 chiffres** livraisons  
3. **Facturation automatique** prestataires (30/mois)
4. **Matching automatique** trajets/annonces
5. **Notifications OneSignal** fonctionnelles
6. **Abonnements 3 niveaux** op√©rationnels
7. **Multilingue FR/EN** complet

### Int√©grations Critiques
1. **Stripe** : paiements + webhooks + abonnements
2. **jsPDF** : g√©n√©ration factures professionnelles
3. **Upload s√©curis√©** : documents avec validation
4. **OneSignal** : notifications push cibl√©es
5. **NFC** : cartes livreurs fonctionnelles

### Infrastructure Critique
1. **6 sites** r√©seau EDN op√©rationnels
2. **Haute disponibilit√©** avec basculement
3. **S√©curit√©** : firewalls + VPN + chiffrement
4. **Monitoring** : supervision compl√®te
5. **Sauvegarde** : journali√®re + mensuelle test√©es

Ce document constitue la **r√©f√©rence officielle** pour le d√©veloppement du projet annuel EcoDeli 2024-2025 ESGI.

