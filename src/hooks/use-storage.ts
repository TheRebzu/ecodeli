import { api } from './use-trpc';\n\nexport function useStorage() {\n  // Récupération des entrepôts\n  const { data: warehouses, isLoading: isLoadingWarehouses } = api.warehouse.getWarehouses.useQuery();\n  \n  // Mutation pour réserver une box\n  const reserveBoxMutation = api.warehouse.reserveBox.useMutation();\n  \n  // Mutation pour libérer une box\n  const releaseBoxMutation = api.warehouse.releaseBox.useMutation();\n  \n  const getBoxes = (warehouseId: string) => {\n    return api.warehouse.getBoxes.useQuery({ warehouseId });\n  };\n  \n  const reserveBox = (boxId: string, startDate: Date, endDate: Date) => {\n    return reserveBoxMutation.mutateAsync({\n      boxId,\n      startDate,\n      endDate,\n    });\n  };\n  \n  const releaseBox = (boxId: string) => {\n    return releaseBoxMutation.mutateAsync({ boxId });\n  };\n  \n  return {\n    warehouses,\n    isLoadingWarehouses,\n    getBoxes,\n    reserveBox,\n    releaseBox,\n    isReserving: reserveBoxMutation.isLoading,\n    isReleasing: releaseBoxMutation.isLoading,\n  };\n}