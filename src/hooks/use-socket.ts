import { useEffect, useState } from 'react';\nimport { Socket } from 'socket.io-client';\nimport { useSession } from 'next-auth/react';\nimport { initializeSocket, closeSocket, getSocket } from '@/socket/socket-client';\n\nexport function useSocket() {\n  const { data: session } = useSession();\n  const [socket, setSocket] = useState<Socket | null>(null);\n  \n  useEffect(() => {\n    if (session?.user) {\n      const token = session.user.id;\n      const socketInstance = initializeSocket(token);\n      setSocket(socketInstance);\n      \n      return () => {\n        closeSocket();\n      };\n    }\n  }, [session]);\n  \n  return socket;\n};